import{b as r}from"./index-BnX2tHpe.js";var d=(i=>(i[i.CB_RET_ERR_GENERAL=1]="CB_RET_ERR_GENERAL",i[i.CB_RET_ERR_BAD_LOGIN_INFO=2]="CB_RET_ERR_BAD_LOGIN_INFO",i[i.CB_RET_ERR_PARAM=3]="CB_RET_ERR_PARAM",i[i.CB_RET_ERR_MULTI_EXEC=4]="CB_RET_ERR_MULTI_EXEC",i[i.CB_RET_ERR_INOPERABLE=5]="CB_RET_ERR_INOPERABLE",i[i.CB_RET_ERR_KEY_NOT_EXIST=6]="CB_RET_ERR_KEY_NOT_EXIST",i[i.CB_RET_ERR_BIZPICO=20]="CB_RET_ERR_BIZPICO",i[i.CB_RET_ERR_NOT_AVAILABLE=80]="CB_RET_ERR_NOT_AVAILABLE",i[i.CB_RET_ERR_USER_CANCEL=90]="CB_RET_ERR_USER_CANCEL",i[i.CB_RET_ERR_SYSTEM_CANCEL=99]="CB_RET_ERR_SYSTEM_CANCEL",i))(d||{});function E(i){try{const e=Object.values(d).find(s=>s===i);return e!==void 0?e:null}catch(e){return r.error(`Get Bridge Response Error Type is Error. ForErrorCode: ${i}`,e),null}}function R(i){if(i===null)return null;switch(i){case 1:return"一般エラー";case 2:return"ログイン情報不正";case 3:return"パラメータ不正";case 4:return"多重実行";case 5:return"操作不可";case 6:return"指定したKEYが存在しない";case 20:return"BIZPICO APIで失敗";case 80:return"利用不可";case 90:return"ユーザーキャンセル";case 99:return"システムキャンセル"}}const n={errorCode:-1,errorDescription:"予期せぬエラー",errorType:null};function S(i){if(i==null||typeof i!="object")return null;try{return i}catch{return null}}function g(i){if(i==null||typeof i!="object")return r.log("ParseBridgeSuccessResponse. Object is empty."),null;try{const e=i;return r.log("ParseBridgeSuccessResponse is done."),e}catch(e){return r.log(`ParseBridgeSuccessResponse is unexpected. Error: ${e} .`),null}}function c(i){if(i==null||typeof i!="object")return r.log("ParseBridgeFailureError. Object is Empty."),null;try{const e=i;if(e!==null&&typeof e=="object"&&e.errorCode!==null&&e.errorCode!==void 0){const s=E(e.errorCode),o=R(s),t={...e,errorType:s,errorDescription:o};return r.log("ParseBridgeFailureError is done."),t}return r.error("ParseBridgeFailureError. Error Code is empty."),null}catch(e){return r.error(`ParseBridgeFailureError is unexpected. Error: ${e} .`),null}}var l=(i=>(i.GET_INFORMATION="getInformation",i.GET_ONE_TIME_CODE="getOneTimeCode",i.READ_MY_NUMBER="readMyNumber",i.CANCEL_READING_MY_NUMBER="cancelReadingMyNumber",i.SET_SCREEN_BRIGHTNESS="setScreenBrightness",i.GET_SCREEN_BRIGHTNESS="getScreenBrightness",i.REGIST_DISPLAY_STATUS_NOTIFICATION="registDisplayStatusNotification",i.SCAN_QR_CODE="scanQRCode",i.CONFIRM_QR_CODE="confirmQRCode",i.PLAY_PAYMENT_SOUND="playPaymentSound",i.SET_STORAGE_DATA="setStorageData",i.GET_STORAGE_DATA="getStorageData",i.REMOVE_STORAGE_DATA="removeStorageData",i.LAUNCH_EXTERNAL_BROWSER="launchExternalBrowser",i.CLOSE_PAYMENT_WEBVIEW="closePaymentWebView",i.LAUNCH_OTHER_WEBVIEW="launchOtherWebView",i.CLOSE_OTHER_WEBVIEW="closeOtherWebView",i.GET_IMAGE_FROM_ALBUM="getImageFromAlbum",i.FINISH_INITIAL_LOAD="finishInitialLoad",i.TRANSITION_PAGE="transitionPage",i))(l||{});class P{_toString(e){try{return JSON.stringify(e)}catch{return e}}get environment(){return"PROD"}async getInformation(e){const s=l.GET_INFORMATION;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{const o=await window.Suica.getInformation(e),t=g(o);return t===null?(r.error(`GetInformation is unexpected. result: ${this._toString(t)}, resultJsonObject: ${this._toString(o)} .`),Promise.reject(n)):(r.log(`GetInformation is successful. result: ${this._toString(t)}`),Promise.resolve(t))}catch(o){const t=c(o);return r.error(`GetInformation is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async getOneTimeCode(e){const s=l.GET_ONE_TIME_CODE;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{const o=await window.Suica.getOneTimeCode(e),t=g(o);return t===null?(r.error(`GetOneTimeCode is unexpected. result: ${this._toString(t)}, resultJsonObject: ${this._toString(o)} .`),Promise.reject(n)):(r.log(`GetOneTimeCode is successful. result: ${this._toString(t)}`),Promise.resolve(t))}catch(o){const t=c(o);return r.error(`GetOneTimeCode is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async readMyNumber(e,s){const o=l.READ_MY_NUMBER;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${o}`);const t=u=>{const a=S(u);a===null?r.error("ReadMyNumber#onStateChangedReadMyNumber Invalid Progress Data."):(r.log(`ReadMyNumber#onStateChangedReadMyNumber is parsed. parsedStatus: ${this._toString(a)}`),s(a))};try{const u=await window.Suica.readMyNumber({loginInfo:e.loginInfo,password:e.password,onStateChangedReadMyNumber:t}),a=g(u);return a===null?(r.error(`ReadMyNumber is unexpected. result: ${this._toString(a)}, resultJsonObject: ${this._toString(u)} .`),Promise.reject(n)):(r.log(`ReadMyNumber is successful. result: ${this._toString(a)}`),Promise.resolve(a))}catch(u){const a=c(u);return r.error(`ReadMyNumber is failure. error: ${u}, parsedError: ${this._toString(a)} .`),Promise.reject(a??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${o}, Finally .`)}}async cancelReadingMyNumber(e){const s=l.CANCEL_READING_MY_NUMBER;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.cancelReadingMyNumber(e),r.log("CancelReadingMyNumber is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`CancelReadingMyNumber is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async setScreenBrightness(e){const s=l.SET_SCREEN_BRIGHTNESS;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.setScreenBrightness(e),r.log("SetScreenBrightness is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`SetScreenBrightness is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async getScreenBrightness(e){const s=l.GET_SCREEN_BRIGHTNESS;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{const o=await window.Suica.getScreenBrightness(e),t=g(o);return t===null?(r.error(`GetScreenBrightness is unexpected. result: ${this._toString(t)}, resultJsonObject: ${this._toString(o)} .`),Promise.reject(n)):(r.log(`GetScreenBrightness is successful. result: ${this._toString(t)}`),Promise.resolve(t))}catch(o){const t=c(o);return r.error(`GetScreenBrightness is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async registDisplayStatusNotification(e,s){const o=l.REGIST_DISPLAY_STATUS_NOTIFICATION;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${o}`);const t=u=>{const a=S(u);a===null?r.error("RegistDisplayStatusNotification#onNotifyDisplayStatus Invalid Status Data."):(r.log(`RegistDisplayStatusNotification#onNotifyDisplayStatus is parsed. parsedStatus: ${this._toString(a)}`),s==null||s(a))};try{return await window.Suica.registDisplayStatusNotification({loginInfo:e.loginInfo,onNotifyDisplayStatus:s===null?null:t}),r.log("RegistDisplayStatusNotification is successful."),Promise.resolve(null)}catch(u){const a=c(u);return r.error(`RegistDisplayStatusNotification is failure. error: ${u}, parsedError: ${this._toString(a)} .`),Promise.reject(a??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${o}, Finally .`)}}async scanQRCode(e){const s=l.SCAN_QR_CODE;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{const o=await window.Suica.scanQRCode(e),t=g(o);return t===null?(r.error(`ScanQRCode is unexpected. result: ${this._toString(t)}, resultJsonObject: ${this._toString(o)} .`),Promise.reject(n)):(r.log(`ScanQRCode is successful. result: ${this._toString(t)}`),Promise.resolve(t))}catch(o){const t=c(o);return r.error(`ScanQRCode is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}confirmQRCode(e){const s=l.CONFIRM_QR_CODE;r.log(`Bridge Develop API Type: ${s}`);const o=t=>{const u=(()=>{try{const _=t;return _.value!==null&&_.value!==void 0&&_.type!==null&&_.type!==void 0?_:null}catch(_){return r.error(`ConfirmQRCode#codeDataFromNative is unexpected. error: ${_}, data: ${this._toString(t)} .`),null}})();if(u===null)return r.error(`ConfirmQRCode#codeDataFromNative is null. Because invalid data. data: ${this._toString(t)} .`),Promise.reject();const a=e(u);return r.log(`ConfirmQRCode#Callback. result is ${this._toString(a)}, data: ${this._toString(t)} .`),Promise.resolve(a)};try{window.Suica.nriConfirmFunction=o}catch(t){r.error(`ConfirmQRCode is unexpected. error: ${t} .`)}finally{r.log(`Bridge Develop, API Type: ${s}, Finally .`)}}playPaymentSound(e){const s=l.PLAY_PAYMENT_SOUND;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{window.Suica.playPaymentSound(e)}catch(o){r.error(`PlayPaymentSound is unexpected. error: ${o} .`)}finally{r.log(`Bridge Develop, API Type: ${s}, Finally .`)}}async setStorageData(e){const s=l.SET_STORAGE_DATA;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.setStorageData(e),r.log("SetStorageData is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`SetStorageData is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async getStorageData(e){const s=l.GET_STORAGE_DATA;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{const o=await window.Suica.getStorageData(e),t=g(o);return t===null?(r.error(`GetStorageData is unexpected. result: ${this._toString(t)}, resultJsonObject: ${this._toString(o)} .`),Promise.reject(n)):(r.log(`GetStorageData is successful. result: ${this._toString(t)}`),Promise.resolve(t))}catch(o){const t=c(o);return r.error(`GetStorageData is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async removeStorageData(e){const s=l.REMOVE_STORAGE_DATA;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.removeStorageData(e),r.log("RemoveStorageData is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`RemoveStorageData is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async launchExternalBrowser(e){const s=l.LAUNCH_EXTERNAL_BROWSER;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.launchExternalBrowser(e),r.log("LaunchExternalBrowser is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`LaunchExternalBrowser is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async closePaymentWebView(e){const s=l.CLOSE_PAYMENT_WEBVIEW;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.closePaymentWebView(e),r.log("ClosePaymentWebView is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`ClosePaymentWebView is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async launchOtherWebView(e){const s=l.LAUNCH_OTHER_WEBVIEW;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.launchOtherWebView(e),r.log("LaunchOtherWebView is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`LaunchOtherWebView is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async closeOtherWebView(){const e=l.CLOSE_OTHER_WEBVIEW;r.log(`Bridge Develop Empty Request, API Type: ${e}`);try{return await window.Suica.closeOtherWebView({}),r.log("CloseOtherWebView is successful."),Promise.resolve(null)}catch(s){const o=c(s);return r.error(`CloseOtherWebView is failure. error: ${s}, parsedError: ${this._toString(o)} .`),Promise.reject(o??n)}finally{r.log(`Bridge Develop Empty Request, API Type: ${e}, Finally .`)}}async getImageFromAlbumService(e){const s=l.GET_IMAGE_FROM_ALBUM;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{const o=await window.Suica.getImageFromAlbum(e),t=g(o);return t===null?(r.error(`GetImageFromAlbumService is unexpected. result: ${this._toString(t)}, resultJsonObject: ${this._toString(o)} .`),Promise.reject(n)):(r.log(`GetImageFromAlbumService is successful. result: ${this._toString(t)}`),Promise.resolve(t))}catch(o){const t=c(o);return r.error(`GetImageFromAlbumService is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async finishInitialLoad(e){const s=l.FINISH_INITIAL_LOAD;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.finishInitialLoad(e),r.log("FinishInitialLoad is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`FinishInitialLoad is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}async transitionPage(e){const s=l.TRANSITION_PAGE;r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}`);try{return await window.Suica.transitionPage(e),r.log("TransitionPage is successful."),Promise.resolve(null)}catch(o){const t=c(o);return r.error(`TransitionPage is failure. error: ${o}, parsedError: ${this._toString(t)} .`),Promise.reject(t??n)}finally{r.log(`Bridge Product Request: ${this._toString(e)}, API Type: ${s}, Finally .`)}}}export{P as BridgeManagerProduct};
